<div>
	<h1>Character Sheet</h1>
	<div class="inventory">
		<h2>Inventory</h2>
		
		<h4>Dropped:</h3>
		<table border="1">
			<thead>
				<tr>
					<td>Item Name</td>
					<td>Qty</td>
					<td>Weight</td>
					<td>Type</td>
					<td><i>Actions</i></td>
				</tr>
			</thead>
			<tbody>
				<tr v-for="entry in char.inventory.dropped.list">
					<td><input type="text" v-on:blur="entry.item.name=setValidNameOfInput($event.target, entry.item.name)" v-bind:value="entry.item.name"></input></td>
					<td><input type="number" v-model="entry.qty" number min="1"></input></td>
					<td><input type="number" v-model="entry.item.weight" number min="0"></input></td>
					<td>{{ entry.item.getTypeLabel() }}</td>
					<td>
						<a href="javascript:;" v-on:click="char.inventory.packItemEntryFromGround(entry)">Pack</a>
						<a href="javascript:;" v-on:click="char.inventory.equipItemEntryFromGround(entry)">Equip</a>
						<a href="javascript:;" v-on:click="char.inventory.dropped.delete(entry)">Delete</a>
					</td>
				</tr>
				<tr>
					<td><input type="text" v-model="droppedEntry.e.item.name" required v-on:focus="focusInRowField(droppedEntry, 1)" v-on:blur="focusOutRowField(droppedEntry, 1)"></input></td>
					<td><input type="number" v-model="droppedEntry.e.qty" number min="1" v-on:focus="focusInRowField(droppedEntry, 2)" v-on:blur="focusOutRowField(droppedEntry, 2)"></input></td>
					<td><input type="number" v-model="droppedEntry.e.weight" number min="0" v-on:focus="focusInRowField(droppedEntry, 4)" v-on:blur="focusOutRowField(droppedEntry, 4)"></input></td>
					<td>
						MiscItem
					</td>
					
				</tr>
				
				
			</tbody>
		</table>
		
		<h4>Packed: <label style="font-size:10px">Drop?</label><input type="checkbox" v-model="char.inventory.dropPack"></input></h3>
		
		<table border="1">
			<thead>
				<tr>
					<td>Item Name</td>
					<td>Qty</td>
					<td>Weight</td>
					<td>Type</td>
					<td><i>Actions</i></td>
				</tr>
			</thead>
			<tbody>
				<tr v-for="entry in char.inventory.packed.list">
					<td><input type="text" v-on:blur="entry.item.name=setValidNameOfInput($event.target, entry.item.name)" v-bind:value="entry.item.name"></input></td>
					<td><input type="number" v-model="entry.qty" number min="1"></input></td>
					<td><input type="number" v-model="entry.item.weight" number min="0"></input></td>
					<td>{{ entry.item.getTypeLabel() }}</td>
	
					<td>
						<a href="javascript:;" v-on:click="char.inventory.dropItemEntryFromPack(entry)">Drop</a>
						<a href="javascript:;" v-on:click="char.inventory.equipItemEntryFromPack(entry)">Equip</a>
						<a href="javascript:;" v-on:click="char.inventory.packed.delete(entry)">Delete</a>
					</td>
				</tr>
				<tr>
					<td><input type="text" v-model="packedEntry.e.item.name" required v-on:focus="focusInRowField(packedEntry, 1)" v-on:blur="focusOutRowField(packedEntry, 1)"></input></td>
					<td><input type="number" v-model="packedEntry.e.qty" number min="1" v-on:focus="focusInRowField(packedEntry, 2)" v-on:blur="focusOutRowField(packedEntry, 2)"></input></td>
					<td><input type="number" v-model="packedEntry.e.weight" number min="0" v-on:focus="focusInRowField(packedEntry, 4)" v-on:blur="focusOutRowField(packedEntry, 4)"></input></td>
					<td>MiscItem</td>
				</tr>
			</tbody>
		</table>
					
		<h3>Equiped</h3>
		
		
		<h4>Shields:</h4>
		<table border="1">
			<thead>
				<tr>
					<td style="width:155px">Shield Name</td>
					<td style="width:35px">AV</td>
					<td style="width:35px">Block</td>
					<td style="width:45px">Weight</td>
					<td>Coverage</td>
					<td style="width:130px">Kept at?</td>
					<td>Held?</td>
					<td><i>Actions</i></td>
				</tr>
			</thead>
			<tbody>
				<tr v-for="entry in char.inventory.shields">
					<td><input type="text" v-on:blur="entry.shield.name=setValidNameOfInput($event.target, entry.shield.name)" v-bind:value="entry.shield.name"></input></td>
					<td><input type="number" v-model="entry.shield.AV" number min="1"></input></td>
					<td><input type="number" v-model="entry.shield.block" number min="0"></input></td>
					<td><input type="number" v-model="entry.shield.weight" number min="0"></input></td>
					<td><input type="text" :value="entry.shield.coverage"></input></td>
					<td><input type="text" v-model="entry.unheldRemark"></input></td>
					<td>
						<select number :value="entry.held" v-on:change="holdItemHandler(entry, $event.target.value)"  >
							<option value="0">No</option>
							<option value="2" :disabled="entry.shield.get_twoHanded()">Off-hand</option>
							<option value="1" :disabled="entry.shield.get_twoHanded()">Master-hand</option>
							<option value="3">Both hands</option>
						</select>
					</td>
					
					<td>
						<a href="javascript:;" v-on:click="char.inventory.packEquipedShield(entry)">Pack</a>
						<a href="javascript:;" v-on:click="char.inventory.dropEquipedShield(entry)">Drop</a>
						<a href="javascript:;" v-on:click="char.inventory.dropEquipedShield(entry, true)">Delete</a>
					</td>
				</tr>
				<tr>
					<td><input type="text" v-on:focus="focusInRowField(shieldEntry, 1)" v-on:blur="focusOutRowField(shieldEntry, 1)" v-model="shieldEntry.e.shield.name" required></input></td>
					<td><input type="number" v-on:focus="focusInRowField(shieldEntry, 2)" v-on:blur="focusOutRowField(shieldEntry, 2)" v-model="shieldEntry.e.shield.AV" number min="1"></input></td>
					<td><input type="number" v-on:focus="focusInRowField(shieldEntry, 4)" v-on:blur="focusOutRowField(shieldEntry, 4)" v-model="shieldEntry.e.shield.block" number min="0"></input></td>
					<td><input type="number" v-on:focus="focusInRowField(shieldEntry, 8)" v-on:blur="focusOutRowField(shieldEntry, 8)" v-model="shieldEntry.e.shield.weight" number min="0"></input></td>
					<td><input type="text" v-on:focus="focusInRowField(shieldEntry, 16)" v-on:blur="focusOutRowField(shieldEntry, 16)" :value="shieldEntry.e.shield.coverage"></input></td>
					<td><input type="text" v-on:focus="focusInRowField(shieldEntry, 32)" v-on:blur="focusOutRowField(shieldEntry, 32)" :value="shieldEntry.e.unheldRemark"></input></td>
				</tr>
			</tbody>
		</table>
		
		<h4>Weapons:</h4>
		<table border="1">
			<thead>
				<tr>
					<td>Weapon Name</td>
					<td>Type</td>
					<td>Hands</td>
					<td>Reach</td>
					<td>SwingTN</td>
					<td>ThrustTN</td>
					<td>DTN</td>
					<td>Guard</td>
					<td>Weight</td>
					<td>Kept at?</td>
					<td>Held?</td>
					<td><i>Actions</i></td>
				</tr>
			</thead>
			<tbody>
				<tr v-for="entry in char.inventory.weapons">
					<td><input type="text" v-on:blur="entry.weapon.name=setValidNameOfInput($event.target, entry.weapon.name)" v-bind:value="entry.weapon.name"></input></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					
					<td><input type="text" v-model="entry.unheldRemark"></input></td>
					<td>
						<select number :value="entry.held" v-on:change="holdItemHandler(entry, $event.target.value)"  >
							<option value="0">No</option>
							<option value="1" :disabled="entry.weapon.get_twoHanded()">Master-hand</option>
							<option value="2" :disabled="entry.weapon.get_twoHanded()">Off-hand</option>
							<option value="3">Both hands</option>
						</select>
					</td>
					<td>
						<a href="javascript:;" v-on:click="char.inventory.packEquipedWeapon(entry)">Pack</a>
						<a href="javascript:;" v-on:click="char.inventory.dropEquipedWeapon(entry)">Drop</a>
						<a href="javascript:;" v-on:click="char.inventory.dropEquipedWeapon(entry, true)">Delete</a>
					</td>
				</tr>
				<tr>
					
	
				</tr>
			</tbody>
		</table>
					
					
		<h4>MiscItems:</h4>
		<table border="1">
			<thead>
				<tr>
					<td>MiscItem Name</td>
					<td>Weight</td>
					
					<td>Kept At?</td>
					<td>Held?</td>
					<td><i>Actions</i></td>
				</tr>
			</thead>
			<tbody>
				<tr v-for="entry in char.inventory.equipedNonMeleeItems">
					<td><input type="text" v-on:blur="entry.item.name=setValidNameOfInput($event.target, entry.item.name)" v-bind:value="entry.item.name"></input></td>
					<td><input type="number" number min="0" v-model="entry.item.weight"></input></td>
					
					<td><input type="text" v-model="entry.unheldRemark"></input></td>
					<td>
						<select number :value="entry.held" v-on:change="holdItemHandler(entry, $event.target.value)"  >
							<option value="0">No</option>
							<option value="1" :disabled="entry.item.get_twoHanded()">Master-hand</option>
							<option value="2" :disabled="entry.item.get_twoHanded()">Off-hand</option>
							<option value="3">Both hands</option>
						</select>
					</td>
					<td>
						<a href="javascript:;" v-on:click="char.inventory.packMiscItem(entry)">Pack</a>
						<a href="javascript:;" v-on:click="char.inventory.dropMiscItem(entry)">Drop</a>
						<a href="javascript:;" v-on:click="char.inventory.dropMiscItem(entry, true)">Delete</a>
					</td>
				</tr>
				<tr>
					
	
				</tr>
			</tbody>
		</table>		
			
		
		<h4>Armor:</h4>
		<table border="1">
			<thead>
				<tr>
					<td>Armor Name</td>
					<td>AVC</td>
					<td>AVP</td>
					<td>AVB</td>
					<td>Coverage</td>
					<td>Tags</td>
					<td>Weight</td>
					
					<td><i>Actions</i></td>
				</tr>
			</thead>
			<tbody>
				<tr v-for="armor in char.inventory.wornArmor">
					<td><input type="text" v-model="armor.name"></input></td>
					<td><input type="text" v-model="armor.AVC"></input></td>
					<td><input type="text" v-model="armor.AVP"></input></td>
					<td><input type="text" v-model="armor.AVB"></input></td>
					<td><input type="text" :value="armor.coverage"></input></td>
					<td><input type="text" v-model="armor.tags"></input></td>
					<td><input type="text" v-model="armor.weight"></input></td>
					
					<td>
						<a href="javascript:;">Pack</a>
						<a href="javascript:;">Drop</a>
						<a href="javascript:;">Delete</a>
					</td>
				</tr>
				<tr>
					
	
				</tr>
			</tbody>
		</table>		
		
		
		<hr/>
		<button v-on:click="saveSheet()">Save Sheet</button>
		
		<div>
			<br/>
			<textarea character-set="UTF-8" v-model="copyToClipboard"></textarea>
		</div>
					
		<button v-on:click="loadSheet()">Load Sheet</button>
	</div>
</div>